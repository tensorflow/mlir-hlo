// RUN: stablehlo-opt --chlo-pre-serialization-pipeline -inline %s | stablehlo-translate --interpret
// RUN: stablehlo-opt --chlo-pre-serialization-pipeline %s | stablehlo-translate --serialize --target=current | stablehlo-translate --deserialize | stablehlo-opt > %t.0
// RUN: stablehlo-opt --chlo-pre-serialization-pipeline %s > %t.1
// RUN: diff %t.0 %t.1

module @jit_main attributes {mhlo.num_partitions = 1 : i32, mhlo.num_replicas = 1 : i32} {
  func.func public @main() -> (tensor<20x20xcomplex<f32>> {jax.result_info = "", mhlo.layout_mode = "default"}) {
    %0 = call @inputs() : () -> tensor<20x20xcomplex<f32>>
    %1 = call @expected() : () -> tensor<20x20xcomplex<f32>>
    %2 = chlo.asin %0 : tensor<20x20xcomplex<f32>> -> tensor<20x20xcomplex<f32>>
    stablehlo.custom_call @check.expect_close(%2, %1) {has_side_effect = true} : (tensor<20x20xcomplex<f32>>, tensor<20x20xcomplex<f32>>) -> ()
    return %2 : tensor<20x20xcomplex<f32>>
  }
  func.func private @inputs() -> (tensor<20x20xcomplex<f32>> {mhlo.layout_mode = "default"}) {
    %cst = stablehlo.constant dense<"0x960F5DC048CE62C0D81BEA40FF62BA3FF5D911C0412A3240394EC5407D07863F79D620402782C7BF153D8CBF5DC7874069857340CFB782403FF0FB3F5A79BC3EACD0E3C0A8BDD03FBE53FB3E60647540936ACBBF20DC6FC0CE9360C0D923A64003CF9FBFA2202BBE696DB03F011E83409B6F0840C026A5C08A9919BF60A6C73F35F8084069866F40C394B9BE4F37DF3F09F01EC06874EFBFFF8664BF96F8AC3F50CF90BF784E64C0663332409F2B904044A5603FB1A12D40D0373F40959A26C035C8DEBED3C42EBF5E64B33FC73DC03F8B3C1EC0599EBFBF44F9CCBFAEAA163F2683B43F82A293BCA2A7A4BF13BD263E995F16403423A63F44539BC01D65B2C0E9B99BC0ABBB1DBF93B46940CA6BF4401212B5C0EE4596BE587F273FDC31A340CC4F2740225F2640024C23401D1F24C0B63267C0BA261B40A47956C0F37FC240911BC04077250D3FF7C696C04D43BFBF78A3AB3F80C77C40B12937C0FF41AD3F4F65D23EB8C1C2BE70FEB73F87854D3EC11E32409E5381C0E9C755BE8362993FAE32FEBF7DA977C066B427C0499B813F07689EBFCB288AC007B337BF3226E5C0D100183F2935B33F3F85AE40A2BE3340171272404566EF3FB5433B3FC5142540FE40A8C006132BC008DEEC3ED86B7FBC1E64B03EB6CCADBF725DEEBEA5500BBF8F66A4BFBEE109BF33455F40B63215BF96F738C058A2303F0880BABF649DDCBFB7017BC03EB031407898293FC87A5EC08439EE3F9C172DC0C3740AC1F6C702C079850E4063896240F72DC6BE60FE46C069CB51409E3290C0E3B61040C0FFF43FE38279400CD4873FF80488BFDE2C33BF623479407E95A6BF8D88D9C0B0412DC0987E54405E3CB1BDB8681BC08B14B5408356CDBFE01CB940D0C4223FDEC931407A67D7BFC0FF96BFD5F01A407C5F01405E2A15C0836B5EC0711B2340BB40DF40BEEC80BF5EB5C9BF152F89C069D4F4BF9F6A1EBE2C9BA1C0072EE7BF8F36B2BFD848BD3FC8A42C3FB3FE28C06579E83EB3B60C3F264091C0AF360BC0946D953E18828BC03EBA5EC0D647D0BF1E4027C0A8A1C03F9AD89B3FBF6626C0BB1DD23F245356402C833B4036999CC05852B9409DCCD83F411BC43F80E1A9BF9311443FB1486040A1D52C3F43BB8DC024F9A8BEBCB8D53D98DACBC09E4E2540D3F033C02264843F3AAFC43F71A880C080E462BF31720240EE0DC93E1A23534022D4BA3E785CBB4054E4A63F1CF14D3F1DF16EC08A550340F4FF21BEEE861FC06F6FAC40B44DD3C0155B04C1592DCF3FBA6C534017B78BBFDA4891BF8630C03F9CA36FC0ED64423E1F3A67C07CCB2CBFD888D0BFD5402A40D6AB80C00614A7C07A610CC05C6962C05C65DFBFD0CC8EBF53233CBD0F3B84C008E229406F19B33FEB75663F00132B409D7FA740EE2C373F60C231400ABE693E637DC13F30BF87BDF860A03E074F283FFE6D7D40E9B6FABFC41D304054501940A18E5FC09BADC53FB904783F001300C0441403C0BCEE373FA18074406ABE82C0D7BF943EEBB21840DF4982C022F1D54073AD844043776C40B9AABBBF81E0D73FF28858BFE05AA6C033544C408AF5443F2D3E15BF04420640C45575C071ED58C03316AABE119F833F1C38AB40A21712408ABCAA40E26594BF100524C0F71707407DEF5440BB218E408930BEC08731783FF48D3D40CA8330402BA25EC04F4AE94061392F40607FB63F704202BFEA0FF53D5ED946400091BBBF6285BD3FD16C3FC09F324EC085CB63BE694FABBEBEBFA6C0F01801C0CA7B33C08A1E1F4033A803406D3322BFDD8CBFC08436ABBFC0157540A77AB1C025EB9D3E3F05A8BE83E2DBBE2467C3BFB2B4C73E42F759400BB150C0EF5A3C3FFEE6CDBF85F0DA3F0B55B33FF7BB8C4068B699BD2905463F60882AC05BE9F0BF59EB553EA3983FC0B2082CBF1CD226405A5F66C0A366B13F1C4B9FBF8D2A8AC0F56E98BE90988D402587523EAF9ED7BC0816B4C093057840463A94C014353ABDD3F1A83FD7513EC0665C3E403E468840EE0896BF4CC2993E306E394042AE0BBFA2250D402746A84062F06340364810BEADF496C022ADA9BE1F2FBE4062EE793EFC21F03FB2F1C33F9DCE11C099F90F418B42A0BFC0F07EC020C0B23E28B6A13EC5168DBF345FF740DB520B4030E730C06BCD233F5CF93EBF88F28FBDA91D0AC1D9B93CC0F437D4BF6D6F60407F6FBE40D62C7340FFB91D40C80183BF943C03C023C608C034FE03C0C118D63F589B6CC0231849C0FA009FC007A10DBE117DBC40FE81483F715D96C05B1035BFF4B4C0BFFD6C1140C28731404FA94B4025238A40F06EE53D25E826C0289BFC3F1F86DABF239A94C0AB9B713FCBFB84C0447DE1BEEF683F3F55BA68C044FF94BE9F8190BEC79C62C04714CC406FFC153FB4F299C01B58F43FEDE63640AA03A7C0807B9F40D69E9AC0474AE1BE926707BF0744B23F387B3E40D6644A40FBE7CDC08095BABF6B7F4CBD952EC0BF806E743F72272D4016503F40B518CEC052594C4038CB3740344111C1C70227C0C9F795BF9A2616C0C34491401B62913F6E59D73F4B41BDBFA6A3A33FF82A53BFFCD70FC0621B703FC602CBC024DD093FDD0F19404ED068BF36DF214098328D3FC74411C09A7117C01864B0C0DC840F403F468DC008853FBE8C7049C02E05F6BF6E88B5BF0FF32E40D99409C021402BC0A880AD405E0010C0BC60483F75AB484009A0B5C0CADBC940660926400B2403BF060CDA3EADD95B40AD4C673E2EBB953F34CB4B40ADF50CC0541DD9C0CB3B59BFD79A1DBF011914C0ECC6D9C023446E3F1D53803F55847F40819993BF33B3AD4002BB0B40D4D0623EE329C9C0B8AA1240F49021BF6B554EC091856C3ED6E858403D6F943FADEA46C04FD4C9BED2CB26408AA7EF3FA163C4BFED0231BFF6EB78C0F946D2BF029D9BC0717723C055579B3F57F5923F44066DC0F35691BF130EE0BF3276943F18F5D13F66AD5D402E21A3C0D56D1DC0B4C444409DAC273FB689BDC092CAA33FB4F221C0868D1FBE362565BF4486A6BFE69AA740115A843F1C1D05416ED83C40170A21C0F78AAD3FE4FB68BF4D984840F2D1193F9A93E5BE5521AA3ECABAABBF2FC4BCBE0A6F3240B99EAC3FF99A53BF8C16C43FE92013C0B4D8AD3FBB455B406B8FDE3FFF2400BF9DFE04C0C1D64940044BBB3FEE3E993F7BAF073F90E57140EA4219C0FFABAB3B3FC131BE28E3B1C0B074D9BF88EC3B401CAB94C062141B3F2673D840CDE84BC032D082BF666EA2BE25C908409C019ABF330ACEBED263833D17573F40F46F72BEC2CC3F40B367A5C052AAE13ECDD5963F832DA9C0749B4240B228B3BCDAC83440687EA3BEBA249FC0DAC9B8BFABDD203E3DDACDBEC7473B4012E80E40E69F9FBF63D5F83FD48A5CBF15941B3FD9E37240D7C8E2BE6C71D03F64EEECBFCA1932C03E2B8D3F9C1771C090EF03BE939B24C0457A4C3F5CC8DDBF960AD740D18A51401E0C0CBF0E510FBE48617BBF98A0EABFFA52DB3F81E1E63FD3C195C03FF76FC084D56C40B0BD53C09C4380C0D979EDBF4539583F12FB8E3F868C41C0466F083FF3EF7E3F0860A9408343EF3F6E95D8BF7758303E008264BF22FCF43D7CC76BBF6BB8423E9849D54005DB3BC0A285B2C097D1DBBF59004F4042FF8D3E129ED33FA771B1C00580943FA04A1FBFC24FE1402CE48DBEA03EDE40E1F4AE3FF60DC0BFC5D4F5BE29ED903E72D0A63F42D213BEC0D944C09C89893F4E736A407E332CC05A463B40BE84743F7F5F3BC03620993FEF2D2A40BB7CA240990E3040AEA88DBF5E01ECBF82A799404496173F2D973FC038EB5DC09941FABFE91991BF8A508040E3DF70BFD92D00404FB54A4032B37240EBC3983F3B1B443E78EBD33F4E359C3FB62637409D6C1FC014D568400C8C2F3F012C923F6EF10240119E23C011BF0D4030541E40622600C0C0D8C5BE0C27773E1754AD3FD2B9A8C0C9D910C080048440979A13BF28A0B33DBD754E408F676DC086D96D3F54C86FC0C73072BE40CEB84041D5ADBF82257E3FE482F03FA3E9AA3EF30045C0335165C06A565A40227A55C03B081C3FAC807AC0A680AB4074DDF7BFEA34043FDA93F23FFB4E68BFC8A2C73FEB096340847A043F9F1E4C4042FDE2BF50E058C0CBB92CC0BBC6C0403F696B3FF4FA78409CD62840AF8FECC01C52D6C0534CF0C04E2B49403CD928C07E27EEBE79885C3F71DFD83F3A90CD3F57C8B23D3040A63FD8EC36408D3B22C0DC859ABE72DC3940FA5B8C3F26B2E3BE5CC374403E8E10BFD4D306C0E8A2C8C0D41B403FF1BC42C075D96A40AE681A3F580E63BE279D71C02E269CC0800A67C0E43E6EBEFE4587C08D28ACBF6A41303F2907173F49B2F9BEB44CA5C0B6C386C002330C41BFD293C041BDC6C057350AC0460807BF7D72B040E1ADAB40518AF7BF5FA07640F303AEBFC9F1BBBFE4E28C3F5291CCBF434F43BE6B4612408EA98B3DEB5A463EB74067BFBC53223F441E744080C39740B35DFA3E25931E4094C942C0516FA93EFADEC6BF"> : tensor<20x20xcomplex<f32>>
    return %cst : tensor<20x20xcomplex<f32>>
  }
  func.func private @expected() -> (tensor<20x20xcomplex<f32>> {mhlo.layout_mode = "default"}) {
    %cst = stablehlo.constant dense<"0x352B43BF5EBB12C0CFB0AF3F6BB32C4021D42ABFE426FD3F3841B33F964C21404B347D3F19FCE1BF24847CBE57A50B4059F03D3F13761A405FE5AD3F508FA93F57F9ABBF81582B401A8AFC3DD3E80340CAF4C7BE03E106C0ACA616BF4AF82140F9EDADBF706D3ABF3E22A23E61BB0A40F2B5C53E50CC1AC0E784A2BE92ADA23FD112023F2F530A40D76037BE7D1EAB3FF55B66BFFE1EE9BFF7A001BFD61B9C3F413198BE2DBF01C04FB20B3F384F17400898973ED5F8E13F7795563FA75E04C011EFB7BE762C2DBF946E313FF107B63F4FAE7FBFB9E9DEBFDC3893BF1FB5943F26BEC63F9EAC60BF5750B0BF58F0443F087E843F64DDD43F323C36BF836D2CC08799B8BF057D11C01FF3E23EF8353540AE52C2BF19DE1AC01A48003E40BB15401214453FF8C7FF3FB488433FB562FDBFE0A377BFEE260A4011C2FFBEB0882840EE2CBD3FCAE61E40C2FAA0BF021812C0433EA33E327D0840F2EC8DBFE23CEA3F159AC73E0508CDBE62E0B03F39D56D3FE6ED173FB56812C0E2A708BE3DC9823F9364EDBEB3F10AC015EF96BF99ECD93FE2AA8BBE542A0DC08D9BCABD84F92AC02028AD3E76CC973FC67D8B3FE8342040E9D08C3FA3F60740B6E6843EF9A4DA3F661B8CBFE6AB1DC0F835F63E370A90BC2AD04F3ED4A290BF3FDCD2BE994410BFD3CC86BFE84871BF07FEB23F6BF0F7BF1C4BA9BF43CAE03F4CA727BF105EC2BF8BC871BFEA9910407CB6393E48CFFCBFC8E4143FDF04F2BF6932ABBFA90638C0F8850C3F77560840DEBCF1BDE3F6EDBF5E0E1F3F25771AC03005573FEC48E33FEE02A63F59DF0440696754BF173968BF4B979E3FBAFC05C0322398BFA7842BC06E90C53FD25EEFBF7220CDBE68FC204016B588BE04721F4048BE593E2535E23F529D66BF62EEB2BF389E593FE94AEB3F41E813BF8F5408C058D7B13E5FEA2C40CB8302BFC931ADBF403D92BF52D80EC00B19F6BCBEA614C035BD5DBF8317C1BF804D873FBE958F3FBC9CB1BF4E7BD23F0C27F13D7A5F0EC0A2ECB5BFF06FB63F69A563BF0C431AC04CB908BFE936EABF19D1523F6D52AC3F26A47BBF0A23E73F55E6563F14CF0B40FD8232BF4A0F2E40F296493FDE42C23FCF1371BF642B8A3FA6B6AF3FFA2EF93FC24ABFBF4BF70AC0B78F843C604423C0ABDD393F0B3902C027E2073FD3B7AB3F6C76ACBF8A0F06C05A67AD3FB1CDAE3FF447BA3F645BEF3F84A1AC3FA79C1E409B6A523EC31A03C0D9CDBD3F37ECACBF5219DBBEB2A71E4010E72BBF106543C02408E23E01750040015A2BBFC62495BF8600BE3E955606C0A2434F3DD7AEFFBF275AB0BE2B7EA8BFB41F133F1A5011C0056E95BFECFC1AC0EDB78CBF749303C03367BDBF76A8F8BE53817DBF8EF3114076B3683F886A963FF3C6EE3E3EFC1D40F042743ED4E7E23F9497003E4F999A3F839A81BD272C9E3E7C8F233E013B06408C2D19BF0683F53F969C163FD31409C0B0CF6F3FFD40A23FA6543EBF58A6DFBFA879383E203904406CB1BFBF4CA30540FD3A053FA80510C0D58A813F2D4230405D45973F1FF203C0BB6A853F0F0AA5BFD8CA81BF42E81F40BF8B2A3F70B52FBF07D8FA3EA5330BC00CFCBBBF07CAF2BF164D3F3EEA5B1940D046CC3EA63A1D409517CEBEE6C8DFBF2F140D3F1A9304407A2F233FE1B52CC064A29A3EF6D5EC3FFE7A283FDCF30BC01EBA9A3F0E862F408596913FCAFE82BF981A163D481BED3F1B2C39BF045CB73FA0433CBFAE340BC02B2559BEA2FBABBE901599BF30191AC052E453BF63CF004029579E3FD5F5B4BF928DACBF3D0E20C0D363193F429A26C07E93973E0363ACBE6C846EBEBCBF9DBF4542E03D29FEF83FC358ABBFB68BF03F25CB35BFB8B7C63FF6859A3EFEDA0E40712673BDCE82363F3AE56EBF8227EFBF1662873D62C5E8BFD0B572BE3A37DB3FF48498BF14F5014047688CBE9C310DC08E3A86BD257B0C4053F6533EEA4BDCBCAF7476BFD03B274081C6C7BFEFB70DC0BF51CD3E4AC3F1BFA1DF193F85041640CA9C96BFD2F4373F88C7AF3F9691DFBF418FC83E421F1C4007CAC33FF9D1F8BFACE0BFBF2B140FC085BBC33F37061E405801583F7E28C93FCD847CBEAC1F3B4019DD97BE489408C05CC4AC3EC853A83E62DF0FBE6A25304009D5253FFD6BFABF5818023F623246BFEF8304BC878736C0ED0785BF3651F3BF4027073F4836284035EE7B3F38B90C408026DBBE869FC6BF975C46BFF614E4BF5EDED33E3EA506C0A8B10EBF79EE1DC0539CBDBC6B531E40D694253EE5EC10C0C0C1C2BEDF50A1BFA9E02A3F1ABBFC3F2B83203F490518406937243D85FAD7BF0624523F4D12D3BFD6D2AEBF3C440F407F25BBBFCDF806C006AD483EE55A01C02AE090BE746794BE58BC00BF6CB22B40511DF33D4B0512C0A1E0113F52D6F73FF8BC4DBF6AD62A401F2FBDBF17C310C098729BBEFF05963FBBEC3D3FC3690A406B39ACBFEDC624C09DB0E2BC461299BF5E98A43E1C9EE23F1691DC3E39042AC08924533F328E0940070BA5BF5BED3BC07333DFBE6FF9D6BFA8F8A83FA3790E40E9C14C3F4498BFBF5A84633F5DB48ABFD84292BF98E4C63F3C16BEBFAD7022401A01973FBE4ECDBFB81F913F8ACFD73FB0D03DBFBEF3F0BF3DF796BF452F1E40977FC3BFD39F0AC0B3BE80BFCBBCFEBFA87EEABE6BADEA3F590928BF5E3DF7BF6D0B963FB04E1DC073AC6F3EDF82F13F39AF3ABFFA3D3540312DAE3F26C8D0BF41C5F23D9E2DFA3F82E5153E0899803F6F26733FB2A402C0F2F6B8BF691027C0555776BE9626CDBFC67AB7BF4A5C2740620E753EA6BD0740670A53BEA4811A40818ABA3FC948B63FB8D99BBF98BC25405C8C3DBE78A4F3BF4EB3853D8EEBF73FFA98AF3EB465F4BF74D50FBE9FFCD83FFB75573FFC24C9BF85C02EBEC53A05C08DEBA3BE628615C05BFE8CBF7D4DDB3FBC49953EAAF503C033DC06BF2E35BABFF09C0F3F2825B53FEC39173FD7E820C052C328BFDA5204407C77DE3D4A081FC0E594E33E9088E0BFEA95EDBD354A4FBF704875BE16BC1840A678FB3DB7A93440D321593F38F502C062A8623F367294BFFC91AF3F2D41EA3F3881DEBEB89AB73E27459ABFB34367BF0FA68C3F1E63E73FD38DDEBE29CAA53F38A180BFE669D43F9B258B3F39E0014077C85BBE05DEBFBF785A8F3FED86F63F7068813F094B613FC89C7E3F05ED0BC0A124A93B5AE030BEF98EA2BF519C1CC0A9650E3F78A619C088FCB43DBA4C2740CD929FBF31F6F0BFF31109BE247AC13FE0B58DBF12074FBF4CB1A63C4A5EE83F313B99BD86F9E83F79F7BDBF3221154074F35C3EDDF918C04D16C83F1A77E3BF3FAEB93FF76ADABFAE3EA4BF781A15C0A98F153E96BACABE69A4663FFBF5FE3F70C307BFDC9AC63F2F133BBF3EC53E3FA0A8B93F710F01C0317B2E3F0432CDBF422996BF8D75E23FF085C4BFAC2000C024CA9FBF9CD2D33F9CDC7FBEF3A2284075DCB23FB278EFBFE25ACCBDDD3E5FBFB48447BFF26FCE3F6803B93EA80814C0F26F48BF3EB5164074562EBF52F615C099D68BBF7E04AF3F1692AD3EE0E0F0BFEBC5BE3E5EF26D3F4DF59C3FDA5F1A402C10B9BF9445903F388086BFC732743E7D1485BF5EF9BB3ECE83933F683B2BC0C44CA2BF02E21CC0928EBD3F1E58EC3FCF4C923E6E1C1DC0238F6E3FAD6869BF9DF9C33FC9FF28C075F1AF3FA25029408A9C97BF920588BFC5AA2F3EC3CC8B3F0AB736BD6CEAEBBFFC888D3E7702034020513ABF47CB0440E2FB993EDC60EBBFF1D2CD3E5435E43F82B2883F03541C404437FEBEB13BBEBF8003B93FE4951040C25133BF35E30DC0E1F47FBF1D43BEBFBEAFAA3F5F1906C026530C3F896A0140DBD3A03FA8DA0340BF61CA3D0D22A43F5355C53ECC49EC3FE6AC16BF15A00B40733AE13E160F873FC70D273F444BF1BF5F36353F01C0F23F3637ADBF0B41ACBF8058123EC2448F3F617294BF57D71BC0AEC2B63FEFC606C0C7B2D43C7CA6F13F5D91A8BF6C390140D5B0C0BF8FBBFFBF0116AB3FFEE61DC0878EE33ECA5BBD3FF096D23DB988ECBF9AB94CBFB4AA12402FE1B0BF9A58F23FA11A20BFB999254023F9A2BFB66FAA3F0EA0893F576EB3BF2401CE3E04C7034033741D3E98AAF13FD3DDEFBE07D902C0E07AD5BED563254037CD663E0CED05405532AE3E976D30C07ED239BF542440C0EF985B3F039406C09528B3BEEC4B523FDB2E443F5C54C53F060B5A3D31188A3FC603543F320A02C03FB2C8BD6467E53FBF9D803FDC6141BFFAA5B53F8CDA01C09938A4BE419025C0F73F6C3E60C0EDBF976DB33FE697FE3F845468BD959302C00A656DBFD2A61FC028305BBD769609C0BEDD7DBFE6BA863FF1E2093FAD920ABF919B61BF76B025C0E2B08A3F16073FC057C39DBF729A24C0943AC0BDE86C1A4079239C3F65671BC055679C3F49B305C09F5A5ABFE6C3A43F53C4B5BFBCB087BF17D1C43FC8FCBB3FAA02133E9F7B51BF5B65233E2AE80340269DBB3F1E9F0F407AE42A3F761904C0E54C363EC3699EBF"> : tensor<20x20xcomplex<f32>>
    return %cst : tensor<20x20xcomplex<f32>>
  }
}
